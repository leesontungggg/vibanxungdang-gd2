"use strict";var DropDownBox=function(t,e,i){if(this.parent=document.getElementById(t),this.holder=document.createElement("ul"),this.holder.className="dropdown__box",this.holder.style.overflowY="hidden",this.itemArray=[],this.arrow=this.parent.getElementsByClassName("dropdown__box__arrow")[0],void 0!==this.parent){if(this.defaults={numReveal:5,showFull:!1,itemHeight:30,itemArray:[0,1,2,3,4,5,6,7],className:"dropdown__item",txtClassName:"dropdown__item__txt",DDItemTemplate:'<p class="dropdown__item__txt"></p>',linkArray:[]},this.options={},Object.assign(this.options,this.defaults,e),void 0!==i)this.options.itemArray.unshift(i);else{var s=this.options.itemArray[0];this.options.itemArray.unshift(s)}0<this.options.linkArray.length&&this.options.linkArray.unshift(" "),this.numReveal=this.options.itemArray.length,this.options.showFull?this.options.numReveal=this.options.itemArray.length:this.options.numReveal=Math.min(this.options.numReveal,this.options.itemArray.length),this.holder.style.height="100%",this.holder.style.maxHeight=this.options.itemHeight+"px",this.isExpand=!1,this.totalHeight=50,this.init(),this.addEvent()}};DropDownBox.prototype.init=function(){for(var t=0;t<this.options.itemArray.length;t++){var e=document.createElement("li");e.className=this.options.className,e.setAttribute("itemID",t),e.innerHTML=this.options.DDItemTemplate,this.holder.appendChild(e);var i=e.getElementsByClassName(this.options.txtClassName)[0];1<this.options.linkArray.length&&(i.href=this.options.linkArray[t]),i.innerHTML=this.options.itemArray[t],i.style.lineHeight=this.parent.offsetHeight+"px",0==t&&(this.placeHolder=i),this.itemArray.push(e)}this.parent.appendChild(this.holder),this.totalHeight=(this.options.itemHeight+1)*this.options.numReveal},DropDownBox.prototype.addEvent=function(){window.removeEventListener("resize",this.fnResize),window.addEventListener("resize",this.fnResize.bind(this)),isMobile()?(this.holder.addEventListener("touchend",this.expand.bind(this),!0),document.addEventListener("touchend",this.stageClick.bind(this),!0)):(this.holder.addEventListener("click",this.expand.bind(this),!0),window.addEventListener("click",this.stageClick.bind(this),!0))},DropDownBox.prototype.stageClick=function(t){this.collapse()},DropDownBox.prototype.expand=function(t){t.stopPropagation();var e=this,i=t.target,s=t.target.getAttribute("itemID"),o=i.getElementsByClassName(e.options.txtClassName)[0];0<this.options.linkArray.length&&""!=o.href&&"A"==o.tagName&&0!=s&&(window.location=o.href);var n=t.target.getElementsByClassName(e.options.txtClassName)[0].innerHTML;e.placeHolder.innerHTML=n,this.holder.scrollTop=0,e.toggleExpand(e)},DropDownBox.prototype.collapse=function(){this.holder.style.height="100%",TweenMax.killTweensOf(this.holder),TweenMax.to(this.holder,.5,{maxHeight:this.options.itemHeight,ease:Quint.easeOut}),this.options.numReveal<this.options.itemArray.length&&(this.holder.style.overflowY="hidden"),void 0!==this.arrow&&(TweenMax.killTweensOf(this.arrow),TweenMax.to(this.arrow,.3,{alpha:1,ease:Sine.easeOut})),this.isExpand=!1},DropDownBox.prototype.toggleExpand=function(t){t.isExpand=!t.isExpand;var e=t.isExpand?"auto":"100%",i=t.isExpand?t.totalHeight:t.options.itemHeight,s=t.isExpand?"scroll":"hidden",o=t.isExpand?0:1;t.holder.style.height=e,TweenMax.killTweensOf(t.holder),TweenMax.to(t.holder,.5,{maxHeight:i,ease:Quint.easeOut}),t.options.numReveal<t.options.itemArray.length&&(t.holder.style.overflowY=s),void 0!==t.arrow&&(TweenMax.killTweensOf(t.arrow),TweenMax.to(t.arrow,.3,{alpha:o,ease:Sine.easeOut}))},DropDownBox.prototype.fnResize=function(){for(var t=this.parent.offsetHeight,e=0;e<this.itemArray.length;e++){this.itemArray[e].getElementsByClassName(this.options.txtClassName)[0].style.lineHeight=t+"px"}},DropDownBox.prototype.getCurrentValue=function(){return this.placeHolder.innerHTML};